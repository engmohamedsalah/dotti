<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>dotti — Documentation</title>
  <meta name="description" content="Full documentation for dotti: CLI usage, architecture, supported tools, detection rules, agent recommendations, and programmatic API.">
  <meta property="og:title" content="dotti — Documentation">
  <meta property="og:description" content="CLI usage, architecture, supported tools, and API reference for dotti.">
  <meta property="og:type" content="website">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700;800&family=DM+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,400&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --bg: #060608;
      --bg2: #0b0b0f;
      --surface: #0e0e14;
      --surface2: #12121a;
      --border: #1a1a24;
      --border-bright: #2a2a38;
      --text: #eaeaf0;
      --text-dim: #8888a0;
      --text-muted: #4a4a5e;
      --green: #00ff88;
      --green-dim: #00cc6a;
      --green-glow: rgba(0, 255, 136, 0.08);
      --red: #ff4466;
      --amber: #ffaa33;
      --blue: #66aaff;
      --mono: 'JetBrains Mono', monospace;
      --sans: 'DM Sans', sans-serif;
    }

    html { scroll-behavior: smooth; }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: var(--sans);
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
    }

    body::after {
      content: '';
      position: fixed;
      inset: 0;
      background: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.025'/%3E%3C/svg%3E");
      pointer-events: none;
      z-index: 9999;
    }

    /* ── Layout ── */
    .page { display: flex; min-height: 100vh; }

    .sidebar {
      width: 260px;
      position: fixed;
      top: 0;
      left: 0;
      bottom: 0;
      background: var(--bg2);
      border-right: 1px solid var(--border);
      padding: 24px 0;
      overflow-y: auto;
      z-index: 100;
    }

    .sidebar-logo {
      font-family: var(--mono);
      font-size: 18px;
      font-weight: 700;
      color: var(--green);
      text-decoration: none;
      display: block;
      padding: 0 24px 20px;
      border-bottom: 1px solid var(--border);
      margin-bottom: 16px;
    }
    .sidebar-logo span { color: var(--text-muted); font-weight: 400; }
    .sidebar-logo .tag { font-size: 10px; color: var(--text-muted); font-weight: 400; margin-left: 6px; }

    .sidebar-section { padding: 12px 24px 4px; font-family: var(--mono); font-size: 10px; letter-spacing: 2px; text-transform: uppercase; color: var(--text-muted); }

    .sidebar a {
      display: block;
      padding: 7px 24px 7px 32px;
      font-size: 13px;
      color: var(--text-dim);
      text-decoration: none;
      transition: all 0.15s;
      border-left: 2px solid transparent;
    }
    .sidebar a:hover { color: var(--text); background: rgba(255,255,255,0.02); }
    .sidebar a.active { color: var(--green); border-left-color: var(--green); background: var(--green-glow); }

    .main { margin-left: 260px; flex: 1; max-width: 820px; padding: 40px 48px 80px; }

    /* ── Typography ── */
    .main h1 { font-size: 36px; font-weight: 800; letter-spacing: -1.5px; margin-bottom: 12px; }
    .main h1 .green { color: var(--green); }
    .main h2 { font-size: 24px; font-weight: 700; letter-spacing: -0.5px; margin: 56px 0 16px; padding-bottom: 10px; border-bottom: 1px solid var(--border); text-align: left; }
    .main h3 { font-size: 18px; font-weight: 600; margin: 32px 0 12px; color: var(--text); }
    .main h4 { font-size: 15px; font-weight: 600; margin: 24px 0 8px; color: var(--text-dim); }

    .main p { font-size: 15px; color: var(--text-dim); line-height: 1.7; margin-bottom: 16px; }
    .main p strong { color: var(--text); font-weight: 600; }

    .main ul, .main ol { padding-left: 20px; margin-bottom: 16px; }
    .main li { font-size: 14px; color: var(--text-dim); line-height: 1.7; margin-bottom: 6px; }
    .main li strong { color: var(--text); }

    .lead { font-size: 17px !important; color: var(--text-dim); margin-bottom: 32px; }

    /* ── Code ── */
    code {
      font-family: var(--mono);
      font-size: 13px;
      background: var(--surface);
      border: 1px solid var(--border);
      padding: 2px 7px;
      border-radius: 4px;
      color: var(--green);
    }

    pre {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 20px 24px;
      margin-bottom: 24px;
      overflow-x: auto;
      position: relative;
    }
    pre code {
      background: none;
      border: none;
      padding: 0;
      font-size: 13px;
      line-height: 1.7;
      color: var(--text-dim);
    }
    pre .comment { color: var(--text-muted); }
    pre .cmd { color: var(--green); }
    pre .flag { color: var(--amber); }
    pre .str { color: var(--green); }
    pre .kw { color: var(--blue); }
    pre .type { color: var(--amber); }

    .pre-label {
      position: absolute;
      top: 10px;
      right: 14px;
      font-family: var(--mono);
      font-size: 10px;
      color: var(--text-muted);
      letter-spacing: 1px;
      text-transform: uppercase;
    }

    /* ── Tables ── */
    table { width: 100%; border-collapse: collapse; margin-bottom: 24px; font-size: 13px; }
    th {
      text-align: left;
      font-family: var(--mono);
      font-size: 11px;
      letter-spacing: 1px;
      text-transform: uppercase;
      color: var(--text-muted);
      padding: 10px 14px;
      border-bottom: 1px solid var(--border-bright);
      background: var(--surface);
    }
    td {
      padding: 10px 14px;
      color: var(--text-dim);
      border-bottom: 1px solid var(--border);
      vertical-align: top;
    }
    td code { font-size: 12px; }
    tr:hover td { background: rgba(255,255,255,0.01); }

    /* ── Cards ── */
    .card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 16px;
    }
    .card h4 { margin-top: 0; color: var(--text); }
    .card p:last-child { margin-bottom: 0; }

    .card-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin-bottom: 24px; }

    /* ── Flow diagram ── */
    .flow {
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 24px 0 32px;
      flex-wrap: wrap;
    }
    .flow-step {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 16px 20px;
      text-align: center;
      flex: 1;
      min-width: 140px;
    }
    .flow-step .num { font-family: var(--mono); font-size: 10px; color: var(--green); letter-spacing: 1px; margin-bottom: 6px; }
    .flow-step .name { font-size: 15px; font-weight: 700; margin-bottom: 4px; }
    .flow-step .desc { font-size: 12px; color: var(--text-muted); }
    .flow-arrow { font-size: 20px; color: var(--text-muted); flex-shrink: 0; }

    /* ── Badges ── */
    .badge {
      display: inline-block;
      font-family: var(--mono);
      font-size: 10px;
      padding: 3px 8px;
      border-radius: 4px;
      letter-spacing: 0.5px;
      vertical-align: middle;
    }
    .badge.green { background: rgba(0,255,136,0.1); color: var(--green); border: 1px solid rgba(0,255,136,0.2); }
    .badge.amber { background: rgba(255,170,51,0.1); color: var(--amber); border: 1px solid rgba(255,170,51,0.2); }
    .badge.dim { background: var(--surface); color: var(--text-muted); border: 1px solid var(--border); }

    /* ── Separator ── */
    hr { border: none; border-top: 1px solid var(--border); margin: 48px 0; }

    /* ── Back to top ── */
    .back-top {
      position: fixed;
      bottom: 24px;
      right: 24px;
      background: var(--surface);
      border: 1px solid var(--border);
      color: var(--text-dim);
      font-family: var(--mono);
      font-size: 12px;
      padding: 8px 14px;
      border-radius: 8px;
      text-decoration: none;
      transition: all 0.2s;
      z-index: 50;
    }
    .back-top:hover { color: var(--green); border-color: var(--green); }

    /* ── Footer ── */
    .docs-footer { padding: 32px 0; border-top: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; margin-top: 64px; }
    .docs-footer span { font-family: var(--mono); font-size: 12px; color: var(--text-muted); }
    .docs-footer a { font-size: 13px; color: var(--text-muted); text-decoration: none; margin-left: 20px; }
    .docs-footer a:hover { color: var(--text-dim); }

    /* ── Responsive ── */
    @media (max-width: 900px) {
      .sidebar { display: none; }
      .main { margin-left: 0; padding: 24px 20px 60px; }
      .card-grid { grid-template-columns: 1fr; }
      .flow { flex-direction: column; }
      .flow-arrow { transform: rotate(90deg); }
    }
  </style>
</head>
<body>
  <div class="page">

    <!-- Sidebar Nav -->
    <aside class="sidebar">
      <a href="index.html" class="sidebar-logo">dotti<span>.dev</span> <span class="tag">docs</span></a>

      <div class="sidebar-section">Getting Started</div>
      <a href="#quick-start">Quick Start</a>
      <a href="#installation">Installation</a>

      <div class="sidebar-section">CLI Commands</div>
      <a href="#wizard">dotti (wizard)</a>
      <a href="#scan">dotti scan</a>
      <a href="#init">dotti init</a>
      <a href="#prune">dotti prune</a>
      <a href="#fix">dotti fix</a>
      <a href="#validate">dotti validate</a>

      <div class="sidebar-section">Concepts</div>
      <a href="#architecture">Architecture</a>
      <a href="#detection">Detection Rules</a>
      <a href="#agents">Agent Recommendations</a>
      <a href="#rules">Rule Generation</a>

      <div class="sidebar-section">Supported Tools</div>
      <a href="#tool-claude">Claude Code</a>
      <a href="#tool-cursor">Cursor</a>
      <a href="#tool-codex">OpenAI Codex</a>
      <a href="#tool-copilot">GitHub Copilot</a>
      <a href="#tool-windsurf">Windsurf</a>
      <a href="#tool-gemini">Gemini CLI</a>
      <a href="#tool-amp">Amp</a>

      <div class="sidebar-section">API</div>
      <a href="#programmatic-api">Programmatic Usage</a>
      <a href="#api-types">Key Types</a>
    </aside>

    <!-- Main Content -->
    <div class="main" id="top">

      <h1>dotti <span class="green">documentation</span></h1>
      <p class="lead">
        Scan your codebase. Get AI agent recommendations. Generate optimized configs for every AI coding tool.
      </p>

      <!-- ─────────────── GETTING STARTED ─────────────── -->

      <h2 id="quick-start">Quick Start</h2>

      <p>Run dotti in any project directory. No config, no API keys, no accounts.</p>

      <pre><code><span class="comment"># Launch the interactive wizard (recommended)</span>
<span class="cmd">npx dotti</span>

<span class="comment"># Non-interactive mode (for CI/scripts)</span>
<span class="cmd">npx dotti scan</span>

<span class="comment"># Target a specific tool</span>
<span class="cmd">npx dotti scan</span> <span class="flag">--target</span> claude</code></pre>

      <p>Running <code>npx dotti</code> launches an <strong>interactive wizard</strong> that walks you through the setup: it scans your codebase, shows what it found, lets you pick which tools and agents to include, previews the output, and writes files only after you confirm. For CI pipelines or scripted workflows, use <code>dotti scan</code> instead.</p>

      <h2 id="installation">Installation</h2>

      <p>Use directly with <code>npx</code> (no install needed):</p>
      <pre><code><span class="cmd">npx dotti</span></code></pre>

      <p>Or install globally:</p>
      <pre><code><span class="cmd">npm install -g dotti</span>
<span class="cmd">dotti</span></code></pre>

      <p>Or add as a dev dependency:</p>
      <pre><code><span class="cmd">npm install -D dotti</span></code></pre>

      <p><strong>Requirements:</strong> Node.js &ge; 18.0.0</p>

      <!-- ─────────────── CLI COMMANDS ─────────────── -->

      <h2 id="wizard">dotti <span class="badge green">default</span></h2>

      <p>The <strong>interactive setup wizard</strong>. This is the default experience when you run <code>npx dotti</code> with no subcommand.</p>

      <pre><code><span class="cmd">dotti</span> [path]</code></pre>

      <table>
        <thead><tr><th>Argument</th><th>Default</th><th>Description</th></tr></thead>
        <tbody>
          <tr><td><code>[path]</code></td><td><code>.</code></td><td>Project root directory to scan</td></tr>
        </tbody>
      </table>

      <h4>Wizard Flow</h4>
      <p>The wizard walks you through 5 interactive steps:</p>
      <ol>
        <li><strong>Scan</strong> &mdash; Automatically detects your tech stack (with a spinner). Shows what was found and asks you to confirm.</li>
        <li><strong>Pick tools</strong> &mdash; Multi-select which AI coding tools you use (Claude Code, Cursor, Copilot, etc.). Pre-selects tools that already have configs in your project, or defaults to Claude + Cursor.</li>
        <li><strong>Toggle agents</strong> &mdash; Shows recommended agents with confidence bars (e.g., <code>Code Reviewer ██████████ 95%</code>). Agents with &ge; 60% confidence are pre-selected. Toggle any on or off.</li>
        <li><strong>Toggle rules</strong> &mdash; Shows coding convention rules by priority. High and medium priority rules are pre-selected.</li>
        <li><strong>Preview &amp; confirm</strong> &mdash; Shows every file that will be generated, with sizes and token estimates. You choose: <strong>Generate</strong>, <strong>Generate (skip existing)</strong>, <strong>Dry run</strong>, or <strong>Cancel</strong>.</li>
      </ol>

      <p>Files are only written after you explicitly confirm. You can cancel at any step with <code>Ctrl+C</code>.</p>

      <h4>When to use the wizard vs scan</h4>
      <table>
        <thead><tr><th></th><th><code>dotti</code> (wizard)</th><th><code>dotti scan</code></th></tr></thead>
        <tbody>
          <tr><td>Mode</td><td>Interactive (prompts)</td><td>Non-interactive (flags)</td></tr>
          <tr><td>Best for</td><td>First-time setup, exploring options</td><td>CI/CD, scripts, automation</td></tr>
          <tr><td>Agent selection</td><td>You toggle agents on/off</td><td>All qualifying agents included</td></tr>
          <tr><td>Rule selection</td><td>You toggle rules on/off</td><td>All qualifying rules included</td></tr>
          <tr><td>Existing files</td><td>Asks how to handle them</td><td>Skips (unless <code>--force</code>)</td></tr>
        </tbody>
      </table>

      <h2 id="scan">dotti scan</h2>

      <p>Non-interactive scan and generate. Runs the full pipeline without prompts &mdash; best for CI/CD pipelines and scripts.</p>

      <pre><code><span class="cmd">dotti scan</span> [options]</code></pre>

      <table>
        <thead>
          <tr><th>Flag</th><th>Default</th><th>Description</th></tr>
        </thead>
        <tbody>
          <tr><td><code>-t, --target &lt;tool&gt;</code></td><td><code>all</code></td><td>Target tool: <code>claude</code>, <code>cursor</code>, <code>codex</code>, <code>copilot</code>, <code>windsurf</code>, <code>gemini</code>, <code>amp</code>, or <code>all</code></td></tr>
          <tr><td><code>-p, --path &lt;path&gt;</code></td><td><code>.</code></td><td>Project root directory to scan</td></tr>
          <tr><td><code>-d, --dry-run</code></td><td><code>false</code></td><td>Preview generated files without writing to disk</td></tr>
          <tr><td><code>-f, --force</code></td><td><code>false</code></td><td>Overwrite existing config files</td></tr>
          <tr><td><code>-v, --verbose</code></td><td><code>false</code></td><td>Enable debug-level logging</td></tr>
        </tbody>
      </table>

      <h4>Behavior</h4>
      <ul>
        <li>Without <code>--force</code>, existing config files are <strong>skipped</strong> (not overwritten).</li>
        <li><code>--dry-run</code> shows file paths and sizes that would be generated, but writes nothing.</li>
        <li><code>--verbose</code> shows detection reasons and confidence scores for each agent.</li>
      </ul>

      <h4>Examples</h4>
      <pre><code><span class="comment"># Generate only Claude Code configs</span>
<span class="cmd">dotti scan</span> <span class="flag">--target</span> claude

<span class="comment"># Scan a different project directory</span>
<span class="cmd">dotti scan</span> <span class="flag">--path</span> ../my-other-project

<span class="comment"># Force-regenerate everything with debug output</span>
<span class="cmd">dotti scan</span> <span class="flag">--force</span> <span class="flag">--verbose</span>

<span class="comment"># Use in CI pipeline</span>
<span class="cmd">dotti scan</span> <span class="flag">--target</span> claude <span class="flag">--force</span></code></pre>

      <h2 id="init">dotti init <span class="badge dim">v0.2</span></h2>
      <p>Initialize configs from a predefined project template instead of scanning.</p>
      <pre><code><span class="cmd">dotti init</span> <span class="flag">--template</span> react-saas
<span class="cmd">dotti init</span> <span class="flag">--template</span> nextjs-app
<span class="cmd">dotti init</span> <span class="flag">--template</span> python-api</code></pre>
      <table>
        <thead><tr><th>Flag</th><th>Default</th><th>Description</th></tr></thead>
        <tbody>
          <tr><td><code>--template &lt;id&gt;</code></td><td>-</td><td>Template: <code>react-saas</code>, <code>nextjs-app</code>, <code>python-api</code>, <code>node-api</code>, <code>monorepo</code>, <code>cli-tool</code></td></tr>
          <tr><td><code>-t, --target &lt;tool&gt;</code></td><td><code>all</code></td><td>Target tool</td></tr>
          <tr><td><code>-p, --path &lt;path&gt;</code></td><td><code>.</code></td><td>Project root</td></tr>
          <tr><td><code>-f, --force</code></td><td><code>false</code></td><td>Overwrite existing configs</td></tr>
        </tbody>
      </table>

      <h2 id="prune">dotti prune <span class="badge dim">v0.2</span></h2>
      <p>Find and remove agent configs that are unused or no longer relevant.</p>
      <pre><code><span class="cmd">dotti prune</span>
<span class="cmd">dotti prune</span> <span class="flag">--days</span> 14 <span class="flag">--dry-run</span></code></pre>
      <table>
        <thead><tr><th>Flag</th><th>Default</th><th>Description</th></tr></thead>
        <tbody>
          <tr><td><code>--days &lt;n&gt;</code></td><td><code>30</code></td><td>Consider agents unused after N days</td></tr>
          <tr><td><code>-d, --dry-run</code></td><td><code>false</code></td><td>Preview removals without deleting</td></tr>
          <tr><td><code>-v, --verbose</code></td><td><code>false</code></td><td>Verbose logging</td></tr>
        </tbody>
      </table>

      <h2 id="fix">dotti fix <span class="badge dim">v0.2</span></h2>
      <p>Detect and fix agent routing conflicts and vague descriptions that cause wrong agents to activate.</p>
      <pre><code><span class="cmd">dotti fix</span>
<span class="cmd">dotti fix</span> <span class="flag">--dry-run</span></code></pre>

      <h2 id="validate">dotti validate <span class="badge dim">v0.2</span></h2>
      <p>Validate existing config files across all tools. Checks format correctness, size limits, and common issues.</p>
      <pre><code><span class="cmd">dotti validate</span>
<span class="cmd">dotti validate</span> <span class="flag">--verbose</span></code></pre>

      <!-- ─────────────── ARCHITECTURE ─────────────── -->

      <h2 id="architecture">Architecture</h2>

      <p>dotti runs a <strong>three-stage pipeline</strong>. Everything is local — no network calls, no AI API calls. All recommendations come from deterministic template-based scoring. Both the interactive wizard (<code>dotti</code>) and the non-interactive mode (<code>dotti scan</code>) use the same pipeline &mdash; the wizard adds interactive prompts between stages so you can curate agents and rules before files are written.</p>

      <div class="flow">
        <div class="flow-step">
          <div class="num">STAGE 1</div>
          <div class="name">Scanner</div>
          <div class="desc">Analyze codebase</div>
        </div>
        <div class="flow-arrow">&rarr;</div>
        <div class="flow-step">
          <div class="num">STAGE 2</div>
          <div class="name">Recommender</div>
          <div class="desc">Score &amp; recommend</div>
        </div>
        <div class="flow-arrow">&rarr;</div>
        <div class="flow-step">
          <div class="num">STAGE 3</div>
          <div class="name">Adapters</div>
          <div class="desc">Generate native configs</div>
        </div>
        <div class="flow-arrow">&rarr;</div>
        <div class="flow-step">
          <div class="num">OUTPUT</div>
          <div class="name">Write</div>
          <div class="desc">Files to disk</div>
        </div>
      </div>

      <h3>Stage 1: Scanner</h3>
      <p>Three sub-scanners run in sequence to build a complete picture of your project:</p>
      <div class="card-grid">
        <div class="card">
          <h4>Package Scanner</h4>
          <p>Reads <code>package.json</code> and runs 40+ detection rules to identify frameworks, build tools, testing libraries, databases, styling solutions, and linting tools. Also detects the package manager from lock files.</p>
        </div>
        <div class="card">
          <h4>File Tree Scanner</h4>
          <p>Walks the file tree to count files by extension, detect languages, check for monorepo markers (<code>pnpm-workspace.yaml</code>, <code>lerna.json</code>, <code>turbo.json</code>), and find significant patterns like GitHub Actions, Docker, or Terraform.</p>
        </div>
        <div class="card">
          <h4>Config Scanner</h4>
          <p>Globs for existing AI tool config files (<code>CLAUDE.md</code>, <code>.cursorrules</code>, <code>AGENTS.md</code>, etc.) to detect what's already configured. Reports file sizes and validity.</p>
        </div>
      </div>
      <p>Output: a <code>ScanResult</code> containing project name, tech stack, file tree analysis, and existing configs.</p>

      <h3>Stage 2: Recommender</h3>
      <p>Takes the scan result and runs two recommendation engines:</p>
      <ul>
        <li><strong>Agent Recommender</strong> — Evaluates 8 agent templates. Each template has a <code>shouldRecommend(scan)</code> function that returns a confidence score from 0-100. Agents scoring below <strong>40%</strong> are filtered out. Remaining agents get customized descriptions based on your detected stack.</li>
        <li><strong>Rule Recommender</strong> — Generates coding convention rules conditionally based on detected tools (e.g., TypeScript rules only if TypeScript is detected, Prisma rules only if Prisma is detected).</li>
      </ul>
      <p>Output: <code>RecommendationResult</code> with scored agents, generated rules, and token estimates.</p>

      <h3>Stage 3: Adapters</h3>
      <p>One adapter per supported tool. Each extends <code>BaseAdapter</code> and implements a <code>generate(scan, recommendations)</code> method that produces files in the tool's native format. Adapters respect tool-specific size limits (e.g., Windsurf's 6k char limit, Codex's 32KB limit).</p>

      <p>Output: <code>AdapterOutput[]</code> — an array of generated files per tool, ready to write to disk.</p>

      <!-- ─────────────── DETECTION ─────────────── -->

      <h2 id="detection">Detection Rules</h2>

      <p>dotti detects your tech stack by checking <code>package.json</code> dependencies and looking for config files on disk. Each rule returns a confidence score.</p>

      <h3>Frameworks</h3>
      <table>
        <thead><tr><th>Framework</th><th>Detected By</th><th>Confidence</th></tr></thead>
        <tbody>
          <tr><td>React</td><td><code>react</code> in dependencies</td><td>95%</td></tr>
          <tr><td>Next.js</td><td><code>next</code> in deps or <code>next.config.*</code> file</td><td>85-95%</td></tr>
          <tr><td>Vue</td><td><code>vue</code> in dependencies</td><td>95%</td></tr>
          <tr><td>Nuxt</td><td><code>nuxt</code> in dependencies</td><td>95%</td></tr>
          <tr><td>Svelte</td><td><code>svelte</code> in dependencies</td><td>95%</td></tr>
          <tr><td>SvelteKit</td><td><code>@sveltejs/kit</code> in dependencies</td><td>95%</td></tr>
          <tr><td>Angular</td><td><code>@angular/core</code> in dependencies</td><td>95%</td></tr>
          <tr><td>Express</td><td><code>express</code> in dependencies</td><td>90%</td></tr>
          <tr><td>Fastify</td><td><code>fastify</code> in dependencies</td><td>90%</td></tr>
          <tr><td>Hono</td><td><code>hono</code> in dependencies</td><td>90%</td></tr>
          <tr><td>Remix</td><td><code>@remix-run/node</code> or <code>@remix-run/react</code></td><td>95%</td></tr>
          <tr><td>Astro</td><td><code>astro</code> in dependencies</td><td>95%</td></tr>
        </tbody>
      </table>

      <h3>Build Tools</h3>
      <table>
        <thead><tr><th>Tool</th><th>Detected By</th></tr></thead>
        <tbody>
          <tr><td>Vite</td><td><code>vite</code> in deps or <code>vite.config.*</code></td></tr>
          <tr><td>Webpack</td><td><code>webpack</code> in dependencies</td></tr>
          <tr><td>Turbopack</td><td><code>turbo.json</code> file</td></tr>
          <tr><td>esbuild</td><td><code>esbuild</code> in dependencies</td></tr>
        </tbody>
      </table>

      <h3>Testing</h3>
      <table>
        <thead><tr><th>Tool</th><th>Type</th><th>Detected By</th></tr></thead>
        <tbody>
          <tr><td>Vitest</td><td>unit</td><td><code>vitest</code> in dependencies</td></tr>
          <tr><td>Jest</td><td>unit</td><td><code>jest</code> in dependencies</td></tr>
          <tr><td>Playwright</td><td>e2e</td><td><code>@playwright/test</code> or <code>playwright</code></td></tr>
          <tr><td>Cypress</td><td>e2e</td><td><code>cypress</code> in dependencies</td></tr>
          <tr><td>Testing Library</td><td>component</td><td><code>@testing-library/react</code> or <code>vue</code></td></tr>
        </tbody>
      </table>

      <h3>Databases, Styling &amp; Linting</h3>
      <table>
        <thead><tr><th>Category</th><th>Tools Detected</th></tr></thead>
        <tbody>
          <tr><td>Database / ORM</td><td>Prisma, Drizzle, Mongoose, TypeORM</td></tr>
          <tr><td>Styling</td><td>Tailwind CSS, styled-components, shadcn/ui</td></tr>
          <tr><td>Linting</td><td>ESLint, Prettier, Biome</td></tr>
        </tbody>
      </table>

      <h3>Package Manager</h3>
      <p>Detected from lock files in order of priority:</p>
      <ol>
        <li><code>bun.lockb</code> / <code>bun.lock</code> &rarr; Bun</li>
        <li><code>pnpm-lock.yaml</code> &rarr; pnpm</li>
        <li><code>yarn.lock</code> &rarr; Yarn</li>
        <li><code>package-lock.json</code> &rarr; npm</li>
        <li><code>Pipfile</code> / <code>pyproject.toml</code> &rarr; pip</li>
        <li><code>Cargo.toml</code> &rarr; Cargo</li>
      </ol>

      <!-- ─────────────── AGENTS ─────────────── -->

      <h2 id="agents">Agent Recommendations</h2>

      <p>dotti evaluates 8 agent templates against your scan results. Each template has a <code>shouldRecommend</code> function that returns a confidence score. Only agents scoring <strong>&ge; 40%</strong> are included.</p>

      <table>
        <thead><tr><th>Agent</th><th>Category</th><th>When Recommended</th><th>Score</th></tr></thead>
        <tbody>
          <tr><td><strong>Code Reviewer</strong></td><td>review</td><td>Always (universally useful)</td><td>90%</td></tr>
          <tr><td><strong>Test Writer</strong></td><td>testing</td><td>Testing tools detected, or any framework</td><td>50-88%</td></tr>
          <tr><td><strong>Database Expert</strong></td><td>database</td><td>Database/ORM detected (Prisma, Drizzle, etc.)</td><td>80-85%</td></tr>
          <tr><td><strong>Security Auditor</strong></td><td>security</td><td>Web framework detected (Express, Next.js, etc.)</td><td>45-78%</td></tr>
          <tr><td><strong>Component Designer</strong></td><td>ui</td><td>Frontend framework + styling detected</td><td>68-82%</td></tr>
          <tr><td><strong>API Developer</strong></td><td>api</td><td>Backend framework detected</td><td>80%</td></tr>
          <tr><td><strong>DevOps Helper</strong></td><td>devops</td><td>Deployment tools detected (Docker, CI, etc.)</td><td>72%</td></tr>
          <tr><td><strong>Performance Optimizer</strong></td><td>perf</td><td>Frontend framework + >50 files</td><td>65%</td></tr>
          <tr><td><strong>Documentation Writer</strong></td><td>docs</td><td>>30 files in project</td><td>55%</td></tr>
        </tbody>
      </table>

      <p>Agent descriptions are <strong>dynamically generated</strong> based on your actual stack. For example, if dotti detects React + Vitest, the Test Writer agent's description will say "Write and update tests using Vitest" rather than a generic message.</p>

      <!-- ─────────────── RULES ─────────────── -->

      <h2 id="rules">Rule Generation</h2>

      <p>Rules are coding convention instructions generated alongside agents. They're conditional on your detected tools:</p>

      <table>
        <thead><tr><th>Rule</th><th>Generated When</th><th>Priority</th></tr></thead>
        <tbody>
          <tr><td>TypeScript conventions</td><td>TypeScript files detected</td><td>high</td></tr>
          <tr><td>React patterns</td><td>React detected</td><td>high</td></tr>
          <tr><td>Testing practices</td><td>Any test framework detected</td><td>medium</td></tr>
          <tr><td>Git conventions</td><td>Always</td><td>medium</td></tr>
          <tr><td>Error handling</td><td>Any framework detected</td><td>medium</td></tr>
          <tr><td>Prisma patterns</td><td>Prisma detected</td><td>medium</td></tr>
          <tr><td>Tailwind conventions</td><td>Tailwind CSS detected</td><td>low</td></tr>
          <tr><td>Project structure</td><td>Monorepo or >50 files</td><td>low</td></tr>
        </tbody>
      </table>

      <!-- ─────────────── SUPPORTED TOOLS ─────────────── -->

      <h2 id="tool-claude">Claude Code</h2>
      <table>
        <thead><tr><th>Property</th><th>Value</th></tr></thead>
        <tbody>
          <tr><td>Config files</td><td><code>CLAUDE.md</code>, <code>.claude/agents/*.md</code></td></tr>
          <tr><td>Agent support</td><td>Yes &mdash; YAML frontmatter per agent file</td></tr>
          <tr><td>Size limit</td><td>No hard limit (token-budgeted)</td></tr>
          <tr><td>Format</td><td>Markdown with YAML frontmatter for agents</td></tr>
        </tbody>
      </table>
      <p>dotti generates a root <code>CLAUDE.md</code> with your tech stack and coding rules, plus individual <code>.claude/agents/*.md</code> files for each recommended agent with name, description, capabilities, triggers, and relevant file patterns.</p>

      <h2 id="tool-cursor">Cursor</h2>
      <table>
        <thead><tr><th>Property</th><th>Value</th></tr></thead>
        <tbody>
          <tr><td>Config files</td><td><code>.cursor/rules/*.mdc</code>, <code>AGENTS.md</code></td></tr>
          <tr><td>Agent support</td><td>Yes &mdash; glob-based lazy loading</td></tr>
          <tr><td>Lazy loading</td><td>Yes &mdash; rules activate by file pattern</td></tr>
          <tr><td>Format</td><td><code>.mdc</code> files with glob patterns</td></tr>
        </tbody>
      </table>

      <h2 id="tool-codex">OpenAI Codex</h2>
      <table>
        <thead><tr><th>Property</th><th>Value</th></tr></thead>
        <tbody>
          <tr><td>Config files</td><td><code>AGENTS.md</code>, <code>AGENTS.override.md</code></td></tr>
          <tr><td>Agent support</td><td>No</td></tr>
          <tr><td>Size limit</td><td><strong>32 KB</strong></td></tr>
          <tr><td>Format</td><td>Markdown</td></tr>
        </tbody>
      </table>

      <h2 id="tool-copilot">GitHub Copilot</h2>
      <table>
        <thead><tr><th>Property</th><th>Value</th></tr></thead>
        <tbody>
          <tr><td>Config files</td><td><code>.github/copilot-instructions.md</code>, <code>.github/instructions/*.instructions.md</code>, <code>.github/agents/*.agent.md</code></td></tr>
          <tr><td>Agent support</td><td>Yes</td></tr>
          <tr><td>Lazy loading</td><td>Yes &mdash; <code>applyTo</code> patterns</td></tr>
          <tr><td>Size limit</td><td><strong>30,000 chars</strong> per file</td></tr>
        </tbody>
      </table>

      <h2 id="tool-windsurf">Windsurf</h2>
      <table>
        <thead><tr><th>Property</th><th>Value</th></tr></thead>
        <tbody>
          <tr><td>Config files</td><td><code>.windsurfrules</code>, <code>.windsurf/rules/*.md</code></td></tr>
          <tr><td>Agent support</td><td>No</td></tr>
          <tr><td>Size limit</td><td><strong>6,000 chars</strong></td></tr>
          <tr><td>Format</td><td>Plain text &mdash; auto-truncated to fit limit</td></tr>
        </tbody>
      </table>

      <h2 id="tool-gemini">Gemini CLI</h2>
      <table>
        <thead><tr><th>Property</th><th>Value</th></tr></thead>
        <tbody>
          <tr><td>Config files</td><td><code>GEMINI.md</code></td></tr>
          <tr><td>Agent support</td><td>Yes (skills system)</td></tr>
          <tr><td>Size limit</td><td>No hard limit (token-budgeted)</td></tr>
          <tr><td>Format</td><td>Root-level Markdown</td></tr>
        </tbody>
      </table>

      <h2 id="tool-amp">Amp (Sourcegraph)</h2>
      <table>
        <thead><tr><th>Property</th><th>Value</th></tr></thead>
        <tbody>
          <tr><td>Config files</td><td><code>AGENTS.md</code>, <code>.amp/settings.json</code></td></tr>
          <tr><td>Agent support</td><td>Yes (skills + librarian)</td></tr>
          <tr><td>Size limit</td><td>No hard limit (token-budgeted)</td></tr>
          <tr><td>Format</td><td>Markdown + JSON settings</td></tr>
        </tbody>
      </table>

      <!-- ─────────────── API ─────────────── -->

      <h2 id="programmatic-api">Programmatic Usage</h2>

      <p>dotti exports its core functions as a library. Use it to integrate scanning and config generation into your own tools.</p>

      <pre><code><span class="kw">import</span> { runScan, runRecommendations, generateConfigs, ALL_TARGETS } <span class="kw">from</span> <span class="str">"dotti"</span>;

<span class="comment">// 1. Scan a project</span>
<span class="kw">const</span> scan = <span class="kw">await</span> runScan(<span class="str">"/path/to/project"</span>);

<span class="comment">// 2. Get recommendations</span>
<span class="kw">const</span> recommendations = runRecommendations(scan);

<span class="comment">// 3. Generate configs for all tools (or pass specific targets)</span>
<span class="kw">const</span> outputs = generateConfigs(ALL_TARGETS, scan, recommendations);

<span class="comment">// 4. Use the results</span>
<span class="kw">for</span> (<span class="kw">const</span> output <span class="kw">of</span> outputs) {
  console.log(<span class="str">`${output.tool}: ${output.files.length} files`</span>);
  <span class="kw">for</span> (<span class="kw">const</span> file <span class="kw">of</span> output.files) {
    console.log(<span class="str">`  ${file.path} (${file.sizeBytes} bytes)`</span>);
  }
}</code></pre>

      <h3>Exported Functions</h3>
      <table>
        <thead><tr><th>Function</th><th>Description</th></tr></thead>
        <tbody>
          <tr><td><code>runScan(projectRoot)</code></td><td>Scan a codebase, returns <code>Promise&lt;ScanResult&gt;</code></td></tr>
          <tr><td><code>runRecommendations(scan)</code></td><td>Generate recommendations from scan, returns <code>RecommendationResult</code></td></tr>
          <tr><td><code>generateConfigs(targets, scan, rec)</code></td><td>Generate config files, returns <code>AdapterOutput[]</code></td></tr>
          <tr><td><code>getAdapter(tool)</code></td><td>Get adapter instance for a specific tool</td></tr>
          <tr><td><code>getAllAdapters()</code></td><td>Get all adapter instances</td></tr>
        </tbody>
      </table>

      <h3>Exported Constants</h3>
      <table>
        <thead><tr><th>Constant</th><th>Description</th></tr></thead>
        <tbody>
          <tr><td><code>ALL_TARGETS</code></td><td>Array of all 7 tool names: <code>["claude", "cursor", "codex", "copilot", "windsurf", "gemini", "amp"]</code></td></tr>
          <tr><td><code>TOOL_REGISTRY</code></td><td>Metadata record keyed by tool name (config files, size limits, feature support)</td></tr>
        </tbody>
      </table>

      <h2 id="api-types">Key Types</h2>

      <pre><code><span class="comment">// The 7 supported tools</span>
<span class="kw">type</span> <span class="type">ToolTarget</span> = <span class="str">"claude"</span> | <span class="str">"cursor"</span> | <span class="str">"codex"</span> | <span class="str">"copilot"</span> | <span class="str">"windsurf"</span> | <span class="str">"gemini"</span> | <span class="str">"amp"</span>;

<span class="comment">// Full codebase analysis result</span>
<span class="kw">interface</span> <span class="type">ScanResult</span> {
  projectName: <span class="type">string</span>;
  projectRoot: <span class="type">string</span>;
  techStack: <span class="type">TechStack</span>;        <span class="comment">// languages, frameworks, testing, db, styling, linting</span>
  fileTree: <span class="type">FileTreeAnalysis</span>;   <span class="comment">// file counts, monorepo detection, significant paths</span>
  existingConfigs: <span class="type">ExistingConfig</span>[];
  scanDuration: <span class="type">number</span>;
}

<span class="comment">// Recommendations output</span>
<span class="kw">interface</span> <span class="type">RecommendationResult</span> {
  agents: <span class="type">AgentRecommendation</span>[];  <span class="comment">// scored agents with descriptions</span>
  rules: <span class="type">RuleRecommendation</span>[];    <span class="comment">// coding convention rules</span>
  skippedAgents: <span class="type">SkippedAgent</span>[];
  totalTokensSaved: <span class="type">number</span>;
}

<span class="comment">// Generated files per tool</span>
<span class="kw">interface</span> <span class="type">AdapterOutput</span> {
  tool: <span class="type">ToolTarget</span>;
  files: <span class="type">GeneratedFile</span>[];  <span class="comment">// path, content, sizeBytes</span>
  totalSize: <span class="type">number</span>;
  warnings: <span class="type">string</span>[];
}</code></pre>

      <!-- ─────────────── FOOTER ─────────────── -->

      <div class="docs-footer">
        <span>dotti v0.1 &middot; MIT</span>
        <div>
          <a href="index.html">Home</a>
          <a href="https://github.com/your-org/dotti">GitHub</a>
          <a href="https://npmjs.com/package/dotti">npm</a>
        </div>
      </div>
    </div>
  </div>

  <a href="#top" class="back-top">&uarr; Top</a>

  <script>
    // Highlight active sidebar link on scroll
    const sections = document.querySelectorAll('h2[id]');
    const navLinks = document.querySelectorAll('.sidebar a');

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          navLinks.forEach(link => link.classList.remove('active'));
          const active = document.querySelector(`.sidebar a[href="#${entry.target.id}"]`);
          if (active) active.classList.add('active');
        }
      });
    }, { threshold: 0.1, rootMargin: '-80px 0px -60% 0px' });

    sections.forEach(section => observer.observe(section));
  </script>
</body>
</html>
</code></pre>
